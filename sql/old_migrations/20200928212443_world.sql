DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20200928212443');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20200928212443');
-- Add your query below.


-- remove unused ai_name from aska mistrunner
UPDATE `creature_template` SET `ai_name` = '' WHERE `entry` = 3026;

-- remove duplicate gossip_menu_option from urtharo
DELETE FROM `gossip_menu_option` WHERE `menu_id` = 1624;
INSERT INTO `gossip_menu_option` (`menu_id`, `id`, `option_icon`, `option_text`, `option_broadcast_text`, `option_id`, `npc_option_npcflag`, `action_menu_id`, `action_poi_id`, `action_script_id`, `box_coded`, `box_money`, `box_text`, `box_broadcast_text`, `condition_id`) VALUES (1624, 0, 1, 'I want to browse your goods.', 3370, 3, 4, 0, 0, 0, 0, 0, '', 0, 0);
INSERT INTO `gossip_menu_option` (`menu_id`, `id`, `option_icon`, `option_text`, `option_broadcast_text`, `option_id`, `npc_option_npcflag`, `action_menu_id`, `action_poi_id`, `action_script_id`, `box_coded`, `box_money`, `box_text`, `box_broadcast_text`, `condition_id`) VALUES (1624, 1, 0, 'Here, I\'d like to give you this token of my love.', 11723, 1, 1, -1, 0, 414, 0, 0, '', 0, 462);
INSERT INTO `gossip_menu_option` (`menu_id`, `id`, `option_icon`, `option_text`, `option_broadcast_text`, `option_id`, `npc_option_npcflag`, `action_menu_id`, `action_poi_id`, `action_script_id`, `box_coded`, `box_money`, `box_text`, `box_broadcast_text`, `condition_id`) VALUES (1624, 2, 0, 'Here, I\'d like to give you this token of my love.', 11723, 1, 1, -1, 0, 415, 0, 0, '', 0, 461);

-- add spells to rogue trainer fahrad
INSERT INTO `npc_trainer` (`entry`, `spell`, `spellcost`, `reqskill`, `reqskillvalue`, `reqlevel`, `build_min`, `build_max`) VALUES
(6707, 652, 300, 0, 0, 10, 0, 5875),
(6707, 1424, 300, 0, 0, 10, 0, 5875),
(6707, 1728, 4000, 0, 0, 22, 0, 5875),
(6707, 1762, 100, 0, 0, 6, 0, 5875),
(6707, 1763, 1200, 0, 0, 14, 0, 5875),
(6707, 1764, 4000, 0, 0, 22, 0, 5875),
(6707, 1765, 10000, 0, 0, 30, 0, 5875),
(6707, 1771, 800, 0, 0, 12, 0, 5875),
(6707, 1772, 6000, 0, 0, 26, 0, 5875),
(6707, 1773, 27000, 0, 0, 42, 0, 5875),
(6707, 1774, 52000, 0, 0, 58, 0, 5875),
(6707, 1780, 100, 0, 0, 6, 0, 5875),
(6707, 1781, 2900, 0, 0, 18, 0, 5875),
(6707, 1789, 10, 0, 0, 1, 0, 5875),
(6707, 1790, 3000, 0, 0, 20, 0, 5875),
(6707, 1791, 20000, 0, 0, 40, 0, 5875),
(6707, 1792, 54000, 0, 0, 60, 0, 5875),
(6707, 1838, 6000, 0, 0, 26, 0, 5875),
(6707, 1845, 10000, 0, 0, 30, 0, 5875),
(6707, 1846, 5000, 0, 0, 24, 0, 5875),
(6707, 1858, 4000, 0, 0, 22, 0, 5875),
(6707, 1859, 27000, 0, 0, 42, 0, 5875),
(6707, 1862, 20000, 0, 0, 40, 0, 5875),
(6707, 2592, 100, 0, 0, 4, 0, 5875),
(6707, 2593, 800, 0, 0, 12, 0, 5875),
(6707, 2594, 3000, 0, 0, 20, 0, 5875),
(6707, 2595, 8000, 0, 0, 28, 0, 5875),
(6707, 2843, 10000, 40, 130, 30, 0, 5875),
(6707, 2844, 18000, 40, 170, 38, 0, 5875),
(6707, 2984, 300, 0, 0, 10, 0, 5875),
(6707, 3128, 2610, 0, 0, 18, 0, 4695),
(6707, 3128, 800, 0, 0, 12, 4878, 5875),
(6707, 3422, 3000, 40, 1, 20, 0, 5875),
(6707, 3423, 35000, 40, 230, 50, 0, 5875),
(6707, 5167, 100, 0, 0, 4, 0, 5875),
(6707, 5175, 300, 0, 0, 10, 0, 5875),
(6707, 5278, 200, 0, 0, 8, 0, 5875),
(6707, 5768, 5000, 0, 0, 24, 0, 5875),
(6707, 6185, 7750, 0, 0, 46, 0, 5875),
(6707, 6480, 1800, 0, 0, 16, 0, 5875),
(6707, 6505, 14000, 0, 0, 34, 0, 5875),
(6707, 6511, 14000, 0, 0, 34, 0, 5875),
(6707, 6734, 1800, 0, 0, 16, 0, 5875),
(6707, 6735, 10000, 0, 0, 30, 0, 5875),
(6707, 6736, 3000, 0, 0, 20, 0, 5875),
(6707, 6737, 1200, 0, 0, 14, 0, 5875),
(6707, 6763, 200, 0, 0, 8, 0, 5875),
(6707, 6764, 1800, 0, 0, 16, 0, 5875),
(6707, 6765, 5000, 0, 0, 24, 0, 5875),
(6707, 6769, 8000, 0, 0, 28, 0, 5875),
(6707, 6771, 8000, 0, 0, 28, 0, 5875),
(6707, 6775, 27000, 0, 0, 42, 0, 5875),
(6707, 8622, 18000, 0, 0, 38, 0, 5875),
(6707, 8625, 12000, 0, 0, 32, 0, 5875),
(6707, 8626, 20000, 0, 0, 40, 0, 5875),
(6707, 8630, 12000, 0, 0, 32, 0, 5875),
(6707, 8634, 4000, 0, 0, 22, 0, 5875),
(6707, 8635, 10000, 0, 0, 30, 0, 5875),
(6707, 8636, 18000, 0, 0, 38, 0, 5875),
(6707, 8638, 20000, 0, 0, 40, 0, 5875),
(6707, 8641, 8000, 0, 0, 28, 0, 5875),
(6707, 8642, 16000, 0, 0, 36, 0, 5875),
(6707, 8644, 35000, 0, 0, 50, 0, 5875),
(6707, 8648, 1200, 0, 0, 14, 0, 5875),
(6707, 8651, 6000, 0, 0, 26, 0, 5875),
(6707, 8652, 16000, 0, 0, 36, 0, 5875),
(6707, 8678, 2900, 0, 0, 18, 0, 5875),
(6707, 8695, 18000, 0, 0, 38, 0, 5875),
(6707, 8697, 14000, 0, 0, 34, 0, 5875),
(6707, 8701, 8000, 40, 120, 28, 0, 5875),
(6707, 8723, 16000, 0, 0, 36, 0, 5875),
(6707, 8727, 6000, 0, 0, 26, 0, 5875),
(6707, 8728, 14000, 0, 0, 34, 0, 5875),
(6707, 8810, 16000, 40, 160, 36, 0, 5875),
(6707, 11199, 31000, 0, 0, 46, 0, 5875),
(6707, 11200, 50000, 0, 0, 56, 0, 5875),
(6707, 11270, 27000, 0, 0, 42, 0, 5875),
(6707, 11271, 35000, 0, 0, 50, 0, 5875),
(6707, 11272, 52000, 0, 0, 58, 0, 5875),
(6707, 11276, 29000, 0, 0, 44, 0, 5875),
(6707, 11277, 46000, 0, 0, 52, 0, 5875),
(6707, 11278, 54000, 0, 0, 60, 0, 5875),
(6707, 11282, 29000, 0, 0, 44, 0, 5875),
(6707, 11283, 46000, 0, 0, 52, 0, 5875),
(6707, 11284, 54000, 0, 0, 60, 0, 5875),
(6707, 11287, 31000, 0, 0, 46, 0, 5875),
(6707, 11288, 54000, 0, 0, 60, 0, 5875),
(6707, 11291, 31000, 0, 0, 46, 0, 5875),
(6707, 11292, 48000, 0, 0, 54, 0, 5875),
(6707, 11295, 31000, 0, 0, 46, 0, 5875),
(6707, 11296, 48000, 0, 0, 54, 0, 5875),
(6707, 11298, 33000, 0, 0, 48, 0, 5875),
(6707, 11301, 33000, 0, 0, 48, 0, 5875),
(6707, 11302, 50000, 0, 0, 56, 0, 5875),
(6707, 11304, 46000, 0, 0, 52, 0, 5875),
(6707, 11318, 52000, 0, 0, 58, 0, 5875),
(6707, 11344, 29000, 40, 200, 44, 0, 5875),
(6707, 11345, 46000, 40, 240, 52, 0, 5875),
(6707, 11346, 54000, 40, 280, 60, 0, 5875),
(6707, 11360, 31000, 40, 210, 46, 0, 5875),
(6707, 11361, 48000, 40, 250, 54, 0, 5875),
(6707, 11401, 46000, 0, 0, 52, 0, 5875),
(6707, 13027, 13000, 0, 0, 58, 0, 5875),
(6707, 13221, 12000, 0, 0, 32, 0, 5875),
(6707, 13231, 20000, 0, 0, 40, 0, 5875),
(6707, 13232, 33000, 0, 0, 48, 0, 5875),
(6707, 13233, 50000, 0, 0, 56, 0, 5875);

-- Fix upper case in OfferRewardText for quest 8288 (Only One May Rise) https://github.com/mangoszero/database/commit/fce47a50244afcab58814ba7ab1a68be7b54b43b
UPDATE quest_template SET OfferRewardText = 'Could you be the first to earn favor among the Bronze Flight in a thousand years?' WHERE entry = 8288;


-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
