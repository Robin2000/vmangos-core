DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20181016215648');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20181016215648');
-- Add your query below.


-- Fix flags for event after Harlan Needs A Resupply is completed.
DELETE FROM `quest_end_scripts` WHERE `id`=333;
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (333, 0, 31, 1433, 100, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Harlan Needs a Resupply - Check if Corbett Schneider is already spawned');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (333, 1, 10, 1433, 360000, 0, 0, 0, 0, 0, 0, 0, 0, 6, 1, -8774.38, 717.52, 99.533, 4.245, 0, 'Harlan Needs a Resupply - Spawn Corbett Schneider');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (333, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 254, 253, 0, 0, 0, 0, 0, 0, 0, 'Harlan Needs a Resupply - Rema Schneider Say Text 1');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (333, 7, 0, 0, 0, 0, 0, 1433, 15, 8, 2, 255, 256, 0, 0, 0, 0, 0, 0, 0, 'Harlan Needs a Resupply - Corbet Schneider Say Text 1');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (333, 10, 20, 2, 0, 0, 0, 1433, 15, 8, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Harlan Needs a Resupply - Corbet Schneider Start Waypoint Movement');

-- Fix flags for event after Translation to Ello is completed.
DELETE FROM `quest_end_scripts` WHERE `id`=252;
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (252, 30, 10, 1436, 65000, 0, 0, 0, 0, 0, 0, 1, 1436, 6, 1, -10604.2, -1179.31, 27.995, 0.16, 0, 'Translation to Ello - Spawn Watcher Cutford');
DELETE FROM `event_scripts` WHERE `id`=1436;
INSERT INTO `event_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (1436, 1, 20, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Translation to Ello - Set Movement for Watcher Cutford');

-- Fix flags for event after Escape Through Force is completed.
DELETE FROM `quest_end_scripts` WHERE `id`=994;
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (994, 1, 20, 2, 0, 0, 0, 3694, 40, 8, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Escape Through Force or Stealth: Sentinel Selarin - Start Waypoint Movement');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (994, 9, 1, 1, 0, 0, 0, 3694, 40, 8, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Escape Through Force or Stealth: Sentinel Selarin - Emote Talk');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (994, 9, 0, 0, 0, 0, 0, 3694, 40, 8, 2, 1302, 0, 0, 0, 0, 0, 0, 0, 0, 'Escape Through Force or Stealth: Sentinel Selarin - Say Text 1');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (994, 12, 25, 0, 0, 0, 0, 3694, 40, 8, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Escape Through Force or Stealth: Sentinel Selarin - Set Walk');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (994, 14, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Escape Through Force or Stealth: Terenthis - Emote Talk');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (994, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1305, 0, 0, 0, 0, 0, 0, 0, 0, 'Escape Through Force or Stealth: Terenthis - Say Text');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (994, 20, 0, 0, 0, 0, 0, 3694, 40, 8, 2, 1303, 0, 0, 0, 0, 0, 0, 0, 0, 'Escape Through Force or Stealth: Sentinel Selarin - Say Text 2');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (994, 20, 1, 1, 0, 0, 0, 3694, 40, 8, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Escape Through Force or Stealth: Sentinel Selarin - Emote Talk');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (994, 25, 0, 0, 0, 0, 0, 3694, 40, 8, 2, 1304, 0, 0, 0, 0, 0, 0, 0, 0, 'Escape Through Force or Stealth: Sentinel Selarin - Say Text 3');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (994, 25, 1, 1, 0, 0, 0, 3694, 40, 8, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Escape Through Force or Stealth: Sentinel Selarin - Emote Talk');

-- Fix flags for event after How Big a Threat 2 is completed.
UPDATE `quest_end_scripts` SET `data_flags`=2 WHERE `data_flags`=3 && `id`=985;

-- Fix flags for event after A Daughter's Love is completed.
UPDATE `quest_end_scripts` SET `data_flags`=2 WHERE `data_flags`=3 && `id`=231;

-- Fix flags for event after Fields of Grief 2 is completed.
DELETE FROM `quest_end_scripts` WHERE `id`=407;
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (407, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 425, 0, 0, 0, 0, 0, 0, 0, 0, 'Fields of Grief 2: Captured Scarlet Zealot - Say Text 1');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (407, 3, 15, 3287, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Fields of Grief 2: Captured Scarlet Zealot - Cast Ghoul Form');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (407, 4, 20, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Fields of Grief 2: Captured Scarlet Zealot - Start Waypoint Movement');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (407, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 428, 0, 0, 0, 0, 0, 0, 0, 0, 'Fields of Grief 2: Captured Scarlet Zealot - Say Text 2');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (407, 22, 15, 5, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Fields of Grief 2: Captured Scarlet Zealot - Cast Death Touch');

-- Fix flags for event after Minshina's Skull is completed.
UPDATE `quest_end_scripts` SET `data_flags`=2 WHERE `data_flags`=3 && `id`=808;

-- Fix flags for event after Distracting Jarven is completed.
DELETE FROM `quest_end_scripts` WHERE `id`=308;
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 0, 4, 9, 16, 1, 0, 270, 10, 11, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Distracting Jarven: Unguarded Thunder Ale Barrel - Make Not Interactable');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 0, 9, 35875, 60, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Distracting Jarven: Unguarded Thunder Ale Barrel - Respawn');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 0, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5601.64, -541.38, 392.42, 0.5, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 2, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5597.94, -542.04, 392.42, 5.5, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 3, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5597.95, -548.43, 395.48, 4.7, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 7, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5605.31, -549.33, 399.09, 3.1, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 8, 4, 9, 16, 2, 0, 270, 10, 11, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Distracting Jarven: Unguarded Thunder Ale Barrel - Make Interactable');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 10, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5607.55, -546.63, 399.09, 1.5, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 14, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5597.52, -538.75, 399.09, 1.5, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 18, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5597.62, -530.24, 399.65, 3, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 21, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5603.67, -529.91, 399.65, 4.2, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 25, 0, 0, 0, 0, 0, 0, 0, 0, 0, 125, 0, 0, 0, 0, 0, 0, 0, 0, 'Distracting Jarven: Jarven Thunderbrew - Say Text');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 36, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5603.67, -529.91, 399.65, 4.2, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 39, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5597.62, -530.24, 399.65, 3, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 42, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5597.52, -538.75, 399.09, 1.5, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 45, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5607.55, -546.63, 399.09, 1.5, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 48, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5605.31, -549.33, 399.09, 3.1, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 49, 4, 9, 16, 1, 0, 270, 10, 11, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Distracting Jarven: Unguarded Thunder Ale Barrel - Make Not Interactable');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 51, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5597.95, -548.43, 395.48, 4.7, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 54, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5597.94, -542.04, 392.42, 5.5, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 58, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5601.64, -541.38, 392.42, 0.5, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (308, 60, 3, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, -5605.96, -544.45, 392.43, 0.9, 0, 'Distracting Jarven: Jarven Thunderbrew - Move');

-- Fix gossip id for Julia Gallina.
UPDATE `creature_template` SET `gossip_menu_id`=685 WHERE `entry`=1301;

-- Remove wrong gossip from Guarded Thunder Ale Barrel.
DELETE FROM `gossip_menu` WHERE `entry`=9027;
DELETE FROM `gossip_menu_option` WHERE `menu_id`=9027;
UPDATE `gameobject_template` SET `data1`=403, `data3`=0 WHERE `entry`=269;

-- Fix flags for event after The Prodigal Lich Returns is completed.
DELETE FROM `quest_end_scripts` WHERE `id`=411;
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (411, 0, 15, 7762, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'The Prodigal Lich Returns - Bethor Cast Summon Gunther\'s Visage');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (411, 0, 4, 147, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'The Prodigal Lich Returns - Remove quest giver flag');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (411, 3, 10, 5666, 19500, 0, 0, 0, 0, 0, 0, 0, 0, 6, 1, 1756.07, 47.822, -52.816, 0.793, 0, 'The Prodigal Lich Returns - Summon Visage');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (411, 4, 20, 2, 0, 0, 0, 5666, 30, 8, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'The Prodigal Lich Returns - Gunther Start Waypoint Movement');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (411, 15, 0, 0, 0, 0, 0, 5666, 30, 8, 2, 1974, 0, 0, 0, 0, 0, 0, 0, 0, 'The Prodigal Lich Returns - Gunther Say Text 2');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (411, 18, 35, 0, 0, 0, 0, 5666, 30, 8, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'The Prodigal Lich Returns - Gunther Face Player');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (411, 19, 1, 2, 0, 0, 0, 5666, 30, 8, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'The Prodigal Lich Returns - Gunther Emote Bow');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (411, 19, 0, 0, 0, 0, 0, 5666, 30, 8, 3, 1975, 0, 0, 0, 0, 0, 0, 0, 0, 'The Prodigal Lich Returns - Gunther Say Text 3');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (411, 23, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1976, 0, 0, 0, 0, 0, 0, 0, 0, 'The Prodigal Lich Returns - Bethor Say Text 1');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (411, 26, 35, 1, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 5.39307, 0, 'The Prodigal Lich Returns - Bethor Reset Orientation');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (411, 26, 4, 147, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'The Prodigal Lich Returns - Add quest giver flag');

-- Update comments for The Legend of Stalvan 2 completion script.
DELETE FROM `quest_end_scripts` WHERE `id`=67;
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (67, 0, 10, 2044, 300000, 0, 0, 0, 0, 0, 0, 0, 0, 6, 1, -10953.3, 1568.47, 46.978, 3.392, 0, 'The Legend of Stalvan 2: Summon Forlorn Spirit');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (67, 3, 26, 0, 0, 0, 0, 2044, 30, 8, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'The Legend of Stalvan 2: Forlorn Spirit - Attack Player');

-- Fix flags for event after The Absent Minded Prospector is completed.
UPDATE `quest_end_scripts` SET `data_flags`=2 WHERE `data_flags`=3 && `id`=943;

-- Fix flags for event after The Tower of Althalaxx 4 is completed.
DELETE FROM `quest_end_scripts` WHERE `id`=970;
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 0, 9, 21191, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3184.06, 190.81, 4.61263, 5.55407, 0, 'The Tower of Althalaxx 4: Glowing Soulgem - Respawn');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 0, 4, 147, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Delgren the Purifier - Remove Quest Giver Flag');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1459, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Delgren the Purifier - Say Text 1');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Delgren the Purifier - Emote Talk');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 4, 35, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2.578, 0, 'The Tower of Althalaxx 4: Delgren the Purifier - Face the Soulstone');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 5, 1, 61, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Delgren the Purifier - Emote to break the Soulstone');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 6, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Delgren the Purifier - Stop Emoting');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 6, 0, 2, 0, 0, 0, 21191, 0, 12, 2, 1460, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Glowing Soulgem - Say Emote Text');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 8, 10, 4509, 31500, 0, 0, 0, 0, 0, 0, 0, 0, 6, 1, 3184.06, 190.81, 4.61263, 5.55407, 0, 'The Tower of Althalaxx 4: Summon Sargath');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 10, 0, 0, 0, 0, 0, 4509, 20, 8, 2, 1471, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Sargath - Say Text 1');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 14, 0, 0, 0, 0, 0, 4509, 20, 8, 2, 1472, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Sargath - Say Text 2');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 18, 0, 0, 0, 0, 0, 4509, 20, 8, 2, 1474, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Sargath - Say Text 3');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 22, 0, 0, 0, 0, 0, 4509, 20, 8, 2, 1497, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Sargath - Say Text 4');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 26, 0, 0, 0, 0, 0, 4509, 20, 8, 2, 1498, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Sargath - Say Text 5');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 30, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1473, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Delgren the Purifier - Say Text 2');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 30, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Delgren the Purifier - Emote Talk');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 34, 0, 0, 0, 0, 0, 4509, 20, 8, 2, 1475, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Sargath - Say Text 6');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 39, 0, 2, 0, 0, 0, 4509, 20, 8, 2, 1476, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Sargath - Say Emote Text');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 41, 35, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.471239, 0, 'The Tower of Althalaxx 4: Delgren the Purifier - Reset Facing');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (970, 41, 4, 147, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'The Tower of Althalaxx 4: Delgren the Purifier - Add quest giver flag');

-- Fix flags for event after Seeking Spiritual Aid is completed.
UPDATE `quest_end_scripts` SET `data_flags`=2 WHERE `data_flags`=3 && `id`=5158;

-- Fix flags for event after For Love Eternal is completed.
UPDATE `quest_end_scripts` SET `data_flags`=2 WHERE `data_flags`=3 && `id`=963;

-- Fix flags for event after The Key to Freedom is completed.
UPDATE `quest_end_scripts` SET `data_flags`=2 WHERE `data_flags`=3 && `id`=4451;

-- Fix flags for event after Deliver the Gems is completed.
UPDATE `quest_end_scripts` SET `data_flags`=2 WHERE `data_flags`=3 && `id`=2340;

-- Fix flags for event after Bloodscalp Clan Heads is completed.
DELETE FROM `quest_end_scripts` WHERE `id`=584;
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (584, 0, 4, 147, 2, 2, 0, 722, 0, 9, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Bloodscalp Clan Heads - Kin\'weelay: npc\\\_flag questgiver removed');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (584, 0, 4, 9, 16, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Bloodscalp Clan Heads - Bubbling Cauldron: Gameobject\\\_flag no interaction added');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (584, 1, 35, 1, 0, 0, 0, 722, 0, 9, 2, 0, 0, 0, 0, 0, 0, 0, 0.661932, 0, 'Bloodscalp Clan Heads - Kin\'weelay: Orientation 1');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (584, 2, 0, 0, 0, 0, 0, 722, 0, 9, 3, 735, 0, 0, 0, 0, 0, 0, 0, 0, 'Bloodscalp Clan Heads - Kin\'weelay: Say text 1');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (584, 2, 1, 1, 0, 0, 0, 722, 0, 9, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Bloodscalp Clan Heads - Kin\'weelay: Emote talk');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (584, 5, 15, 3644, 0, 0, 0, 722, 0, 9, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Bloodscalp Clan Heads - Kin\'weelay: Cast spell \"Speak with Heads\"');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (584, 5, 0, 0, 0, 0, 0, 722, 0, 9, 2, 736, 0, 0, 0, 0, 0, 0, 0, 0, 'Bloodscalp Clan Heads - Kin\'weelay: Emote text 1');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (584, 11, 4, 9, 16, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Bloodscalp Clan Heads - Bubbling Cauldron: Gameobject\\\_flag no interaction removed');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (584, 12, 0, 0, 0, 0, 0, 722, 0, 9, 3, 740, 0, 0, 0, 0, 0, 0, 0, 0, 'Bloodscalp Clan Heads - Kin\'weelay: Say text 2');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (584, 12, 1, 1, 0, 0, 0, 722, 0, 9, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Bloodscalp Clan Heads - Kin\'weelay: Emote talk');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (584, 12, 4, 147, 2, 1, 0, 722, 0, 9, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Bloodscalp Clan Heads - Kin\'weelay: npc\\\_flag questgiver Added');
INSERT INTO `quest_end_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (584, 14, 35, 1, 0, 0, 0, 722, 0, 9, 2, 0, 0, 0, 0, 0, 0, 0, 1.26347, 0, 'Bloodscalp Clan Heads - Kin\'weelay: Orientation 2');

-- Fix flags for event after Elune's Tear is completed.
UPDATE `quest_end_scripts` SET `data_flags`=2 WHERE `data_flags`=3 && `id`=1033;

-- Fix flags for event after Fallen Sky Lake is completed.
UPDATE `quest_end_scripts` SET `data_flags`=2 WHERE `data_flags`=3 && `id`=1035;

-- Update comments for The Legend of Stalvan 7 start script.
DELETE FROM `quest_start_scripts` WHERE `id`=74;
INSERT INTO `quest_start_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (74, 2, 10, 2044, 300000, 0, 0, 0, 0, 0, 0, 4, 0, 6, 1, -8842.9, 984.95, 98.704, 5.712, 0, 'The Legend of Stalvan 7: Summon Forlorn Spirit');
INSERT INTO `quest_start_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (74, 4, 26, 0, 0, 0, 0, 2044, 30, 8, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'The Legend of Stalvan 7: Forlorn Spirit - Attack Player');

-- Fix flags for event after Sarkoth is accepted.
DELETE FROM `quest_start_scripts` WHERE `id`=804;
INSERT INTO `quest_start_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (804, 2, 28, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Sarkoth: Hana\'zua - Kneel state');
INSERT INTO `quest_start_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (804, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1341, 0, 0, 0, 0, 0, 0, 0, 0, 'Sarkoth: Hana\'zua - Say text 1');
INSERT INTO `quest_start_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (804, 15, 28, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Sarkoth: Hana\'zua - Kneel state off');

-- Fix flags for event after Forsaken Aid is accepted.
UPDATE `quest_start_scripts` SET `data_flags`=2 WHERE `data_flags`=3 && `id`=1064;


-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
