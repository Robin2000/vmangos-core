DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20190816154537');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20190816154537');
-- Add your query below.


-- Wayponts for Thomas Miller
DELETE FROM `creature_movement` WHERE `id`=79723;
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `waittime`, `wander_distance`, `script_id`, `textid1`, `textid2`, `textid3`, `textid4`, `textid5`, `emote`, `spell`, `orientation`, `model1`, `model2`) VALUES 
(79723, 1, -8831.28, 543.109, 96.8344, 1000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, 0, 0),
(79723, 2, -8823.8, 554.302, 95.1343, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 3, -8816.18, 563.58, 94.1516, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 4, -8812.27, 575.284, 94.8673, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 5, -8798.45, 588.131, 97.2749, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 6, -8781.38, 601.002, 97.395, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 7, -8770.7, 609.208, 97.2416, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 8, -8761.96, 617.745, 99.1796, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 9, -8757.63, 628.577, 102.216, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 10, -8759.15, 642.457, 103.654, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 11, -8770.64, 661.869, 103.528, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 12, -8787.04, 680.217, 102.245, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 13, -8804.12, 683.305, 100.683, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 14, -8815.72, 680.448, 98.2183, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 15, -8831.55, 674.228, 98.3358, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 16, -8843.12, 667.22, 97.8051, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 17, -8852.2, 659.229, 96.9603, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 18, -8841.74, 637.862, 95.1661, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 19, -8834.06, 634.756, 94.3203, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 20, -8817.96, 641.332, 94.2293, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 21, -8811.88, 634.469, 94.2293, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 22, -8813.45, 625.373, 94.1306, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 23, -8827.66, 620.367, 94.2332, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 24, -8846.61, 601.6, 92.6069, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 25, -8859.18, 589.015, 92.709, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 26, -8874.99, 572.27, 93.4734, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 27, -8883.26, 572.174, 92.8046, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 28, -8886.9, 579.094, 92.9168, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 29, -8889.38, 585.29, 93.3191, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 30, -8869.45, 596.649, 92.4409, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 31, -8860.44, 601.856, 92.161, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 32, -8847.27, 610.523, 92.6533, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 33, -8837.06, 617.396, 93.0252, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 34, -8834.75, 618.401, 93.3229, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 35, -8827.87, 621.207, 94.1001, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 36, -8809.26, 603.528, 96.2749, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 37, -8806.62, 593.729, 97.1852, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 38, -8820.32, 573.328, 94.1915, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 39, -8830.69, 558.865, 94.8851, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(79723, 40, -8834.06, 549.867, 96.194, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);

-- Events list for Thomas Miller
DELETE FROM `creature_ai_events` WHERE `creature_id`=3518;
INSERT INTO `creature_ai_events` (`id`, `creature_id`, `condition_id`, `event_type`, `event_inverse_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action1_script`, `action2_script`, `action3_script`, `comment`) VALUES (351801, 3518, 0, 1, 0, 100, 1, 20000, 45000, 20000, 45000, 351801, 0, 0, 'Thomas Miller - Say Text OOC');
DELETE FROM `creature_ai_scripts` WHERE `id`=351801;
INSERT INTO `creature_ai_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (351801, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1101, 1102, 1103, 1104, 0, 0, 0, 0, 0, 'Thomas Miller - Say Text');
UPDATE `creature_template` SET `ai_name`='EventAI' WHERE `entry`=3518;


-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
