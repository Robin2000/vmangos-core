DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20190812203053');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20190812203053');
-- Add your query below.


-- Blizzard seems to use this often, so doing it through scripts is not convenient.
ALTER TABLE `creature_movement`
	ADD COLUMN `wander_distance` FLOAT UNSIGNED NOT NULL DEFAULT '0' AFTER `waittime`;
ALTER TABLE `creature_movement_special`
	ADD COLUMN `wander_distance` FLOAT UNSIGNED NOT NULL DEFAULT '0' AFTER `waittime`;
ALTER TABLE `creature_movement_template`
	ADD COLUMN `wander_distance` FLOAT UNSIGNED NOT NULL DEFAULT '0' AFTER `waittime`;

-- Waypoints for Son of Arugal in Silverpine Forest.
DELETE FROM `creature_movement` WHERE `id`=18997;
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `waittime`, `wander_distance`, `script_id`, `textid1`, `textid2`, `textid3`, `textid4`, `textid5`, `emote`, `spell`, `orientation`, `model1`, `model2`) VALUES 
(18997, 1, 1242.82, 1844.23, 9.40607, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 2, 1241.36, 1830.87, 9.47624, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 3, 1244.02, 1816.54, 10.9662, 180000, 25, 0, 0, 0, 0, 0, 0, 0, 0, 4.8, 0, 0),
(18997, 4, 1222.99, 1811.24, 13.586, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 5, 1210.64, 1801.46, 16.549, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 6, 1189.26, 1774.44, 15.349, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 7, 1167.93, 1751.92, 13.546, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 8, 1150.270, 1726.093, 19.066, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 9, 1127.28, 1709.62, 28.29, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 10, 1106.05, 1703.6, 28.219, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 11, 1085.59, 1696.71, 32.087, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 12, 1064.02, 1676.63, 29.663, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 13, 1084.81, 1655.44, 30.342, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 14, 1098.45, 1630.05, 28.049, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 15, 1113.95, 1607.04, 28.279, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 16, 1141.19, 1594.86, 31.737, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 17, 1158.79, 1591.9, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 18, 1172.73, 1589.55, 26.56, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 19, 1181.61, 1575.72, 27.333, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 20, 1185.83, 1559.51, 30.038, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 21, 1183.86, 1535.64, 33.259, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 22, 1169.05, 1508.03, 37.789, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 23, 1142.46, 1475.56, 36.441, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 24, 1110.33, 1443.64, 36.508, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 25, 1075.95, 1410.28, 40.503, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 26, 1037.67, 1387.14, 42.125, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 27, 991.946, 1376.94, 46.908, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 28, 984.749, 1375.6, 48.164, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 29, 975.532, 1374.65, 43.875, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 30, 954.101, 1407.35, 42.725, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 31, 950.829, 1430.72, 42.549, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 32, 968.585, 1451.86, 41.445, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 33, 948.804, 1483.07, 39.622, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 34, 938.614, 1494.19, 39.525, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 35, 922.306, 1498.08, 37.726, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 36, 891.545, 1504.36, 36.591, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 37, 870.025, 1511.84, 36.42, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 38, 859.068, 1521.74, 36.521, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 39, 856.224, 1551.78, 33.926, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 40, 859.376, 1589.55, 31.289, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 41, 861.346, 1605.02, 30.965, 180000, 20, 0, 0, 0, 0, 0, 0, 0, 0, 1.68, 0, 0),
(18997, 42, 844.691, 1639.04, 25.236, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 43, 825.178, 1668.83, 24.752, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 44, 817.473, 1680.28, 25.716, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 45, 821.027, 1708.95, 24.987, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 46, 830.216, 1746.55, 18.217, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 47, 838.549, 1768.15, 15.823, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 48, 871.339, 1795.52, 10.759, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 49, 900.119, 1799.1, 10.199, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 50, 912.866, 1800.35, 10.876, 180000, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0.4, 0, 0),
(18997, 51, 944.467, 1836.23, 6.532, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 52, 982.305, 1861.58, 11.065, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 53, 1018.52, 1892.44, 7.275, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 54, 1052.54, 1903.41, 9.41, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 55, 1086.92, 1915.27, 15.372, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 56, 1109.58, 1919.34, 17.51, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 57, 1133.81, 1935.64, 11.217, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 58, 1148.53, 1952.68, 10.705, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 59, 1169.48, 1965.92, 11.621, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 60, 1196.68, 1952.82, 9.299, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 61, 1201.18, 1905.95, 11.337, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 62, 1228.65, 1865.86, 10.925, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
(18997, 63, 1242.61, 1856.79, 10.063, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);


-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
