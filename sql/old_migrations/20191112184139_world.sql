DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20191112184139');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20191112184139');
-- Add your query below.


-- Defias Messenger
UPDATE `creature` SET `position_x` = -11025.1, `position_y` = 1459.74, `position_z` = 43.0861, `orientation` = 5.28786, `spawnFlags` = 1 WHERE `guid` = 45525 AND `id` = 550;

DELETE FROM `creature_movement` WHERE `id` = 45525;
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `script_id`) VALUES
(45525,1,-11024.3,1458.48,42.9863,0,0,0),
(45525,2,-11018.3,1434.54,43.1113,0,0,0),
(45525,3,-10999.9,1416.52,43.1031,0,0,0),
(45525,4,-10983.1,1410.91,42.9781,0,0,0),
(45525,5,-10965.8,1418.47,43.1677,0,0,0),
(45525,6,-10933.5,1423.93,43.0427,0,0,0),
(45525,7,-10915.6,1419.7,42.8789,0,0,0),
(45525,8,-10910.1,1432.67,42.5049,0,0,0),
(45525,9,-10900,1445.11,41.7178,0,0,0),
(45525,10,-10885.3,1457.35,40.7271,0,0,0),
(45525,11,-10866.9,1466.69,41.7989,0,0,0),
(45525,12,-10833.4,1477.93,44.4321,0,0,0),
(45525,13,-10799.9,1489.47,46.8256,0,0,0),
(45525,14,-10766.5,1498.05,47.711,0,0,0),
(45525,15,-10733,1502.48,48.0632,0,0,0),
(45525,16,-10700.1,1502.66,47.1882,0,0,0),
(45525,17,-10666.7,1507.09,46.5445,0,0,0),
(45525,18,-10633.3,1539.86,47.3145,0,0,0),
(45525,19,-10600.2,1555.27,47.4395,0,0,0),
(45525,20,-10566.9,1562.48,46.8828,0,0,0),
(45525,21,-10533.6,1587.42,44.4937,0,0,0),
(45525,22,-10508.9,1614.24,41.9046,0,0,0),
(45525,23,-10481.2,1648.12,37.4687,0,0,0),
(45525,24,-10461.7,1666.65,35.5912,0,0,0),
(45525,25,-10462.7,1691.47,35.5957,100,3000,11),
(45525,26,-10460.4,1693.59,35.5957,0,0,0),
(45525,27,-10449,1708.79,35.2494,0,0,0),
(45525,28,-10426.5,1743.92,33.7402,0,0,0),
(45525,29,-10416.6,1777.68,28.7875,0,0,0),
(45525,30,-10412.4,1810.25,24.3714,0,0,0),
(45525,31,-10404,1849.8,18.6227,0,0,0),
(45525,32,-10403.2,1873.64,14.9501,0,0,0),
(45525,33,-10414,1899.89,9.32512,0,0,0),
(45525,34,-10439,1920.27,10.5826,0,0,0),
(45525,35,-10458.1,1931.1,9.11068,0,0,0),
(45525,36,-10472.5,1938.23,7.89757,0,0,0),
(45525,37,-10464,1955.49,8.93939,0,0,0),
(45525,38,-10477.6,1976.32,9.24443,0,0,0),
(45525,39,-10501.4,1972.82,10.7568,0,0,0),
(45525,40,-10511.7,1961.35,7.41663,0,0,0),
(45525,41,-10523.6,1943.46,4.23074,0,0,0),
(45525,42,-10548.2,1951.47,-0.460234,0,0,0),
(45525,43,-10568.6,1978.86,-5.38337,100,10000,4552501),
(45525,44,-10555.8,1958.8,-3.3736,0,0,0),
(45525,45,-10542.3,1947.6,1.62642,0,0,0),
(45525,46,-10524.9,1942.46,4.34905,0,0,0),
(45525,47,-10516.4,1948.99,4.69907,0,0,0),
(45525,48,-10503.2,1973.02,10.3947,0,0,0),
(45525,49,-10475.6,1974.96,9.28033,0,0,0),
(45525,50,-10464,1957.86,8.6916,0,0,0),
(45525,51,-10471.7,1938.27,7.97253,0,0,0),
(45525,52,-10457.9,1932.24,9.2374,0,0,0),
(45525,53,-10436.6,1916.33,9.53566,0,0,0),
(45525,54,-10418.4,1904.54,7.83281,0,0,0),
(45525,55,-10409.8,1887.79,11.506,0,0,0),
(45525,56,-10406.8,1877.75,14.0414,0,0,0),
(45525,57,-10400.5,1863.82,16.2073,0,0,0),
(45525,58,-10404.8,1832.07,21.0701,0,0,0),
(45525,59,-10413.2,1806.55,24.8249,0,0,0),
(45525,60,-10424,1772.13,29.7769,0,0,0),
(45525,61,-10425.3,1747.43,33.4757,0,0,0),
(45525,62,-10411.2,1735.17,37.0929,0,0,13),
(45525,63,-10387.9,1725.82,38.0202,0,0,0),
(45525,64,-10352.2,1724.66,36.0416,0,0,0),
(45525,65,-10323.8,1718.77,34.8388,0,0,0),
(45525,66,-10299.7,1706.26,37.1308,0,0,0),
(45525,67,-10266,1692.6,35.8463,0,0,0),
(45525,68,-10247,1675.18,34.4902,0,0,0),
(45525,69,-10223.5,1642.29,38.3598,0,0,0),
(45525,70,-10205.1,1605.19,46.0555,0,0,0),
(45525,71,-10185.6,1586.09,45.8647,0,0,0),
(45525,72,-10164.2,1572.13,44.8373,0,0,0),
(45525,73,-10123.5,1555.31,42.3237,0,0,0),
(45525,74,-10108.4,1541.78,42.2112,0,0,0),
(45525,75,-10085.1,1516.22,42.4478,0,0,0),
(45525,76,-10067.8,1486.12,46.4501,0,0,11),
(45525,77,-10052.9,1467.47,45.4537,0,0,0),
(45525,78,-10014.5,1459.66,41.2095,0,0,0),
(45525,79,-9991.49,1458.64,41.4995,0,0,0),
(45525,80,-9976.18,1457.13,45.0206,0,0,0),
(45525,81,-9948.04,1454.6,40.4763,0,0,0),
(45525,82,-9933.26,1441.73,39.1431,0,0,0),
(45525,83,-9923.84,1443.33,39.3621,0,0,0),
(45525,84,-9900.19,1457.97,40.8349,0,0,0),
(45525,85,-9881.88,1450.04,43.709,0,0,0),
(45525,86,-9875.23,1450.28,42.8109,0,0,0),
(45525,87,-9859.63,1457.97,41.3427,0,0,0),
(45525,88,-9849.83,1453.91,40.5755,0,0,0),
(45525,89,-9843.56,1445.74,39.0059,0,0,0),
(45525,90,-9823.62,1423.47,36.7852,0,0,0),
(45525,91,-9821.87,1412.5,36.499,0,0,0),
(45525,92,-9826.46,1406.79,36.9153,0,0,0),
(45525,93,-9835.87,1401.99,38.0764,0,0,0),
(45525,94,-9842.13,1396.29,37.3674,100,10000,4552502),
(45525,95,-9823.06,1411.54,36.3635,0,0,0),
(45525,96,-9822.35,1420.64,36.5567,0,0,0),
(45525,97,-9834.79,1435.69,37.6628,0,0,0),
(45525,98,-9853.21,1456.05,40.9653,0,0,0),
(45525,99,-9870.27,1455.45,42.3767,0,0,0),
(45525,100,-9882.26,1448.69,43.7431,0,0,0),
(45525,101,-9898.55,1456.87,41.1526,0,0,0),
(45525,102,-9906.68,1454.73,40.4808,0,0,0),
(45525,103,-9932.6,1441.31,39.124,0,0,0),
(45525,104,-9950.89,1456.18,40.5866,0,0,0),
(45525,105,-9967.03,1455.99,44.5031,0,0,0),
(45525,106,-9991.21,1458.52,41.5305,0,0,0),
(45525,107,-10012.2,1466.57,40.9185,0,0,0),
(45525,108,-10050.7,1470.6,45.6082,0,0,13),
(45525,109,-10070,1490.06,46.4594,0,0,0),
(45525,110,-10089.4,1518.78,41.9798,0,0,0),
(45525,111,-10121.4,1553.17,42.3523,0,0,0),
(45525,112,-10158.6,1569.76,44.1323,0,0,0),
(45525,113,-10185.4,1584.59,45.8592,0,0,0),
(45525,114,-10204,1605.52,46.0855,0,0,0),
(45525,115,-10218.8,1633.28,40.5342,0,0,0),
(45525,116,-10242.3,1669.62,34.6274,0,0,0),
(45525,117,-10262.1,1689.54,35.5146,0,0,0),
(45525,118,-10282.5,1700.46,36.9913,0,0,0),
(45525,119,-10311.1,1711.42,36.4032,0,0,0),
(45525,120,-10335.8,1721.85,34.6113,0,0,0),
(45525,121,-10381.6,1726.92,38.463,0,0,0),
(45525,122,-10409,1723.05,35.455,0,0,0),
(45525,123,-10425.2,1708.05,34.4076,0,0,0),
(45525,124,-10440.8,1688.63,34.9281,0,0,0),
(45525,125,-10462.9,1663.45,35.5745,0,0,0),
(45525,126,-10482.5,1648.56,37.4599,0,0,0),
(45525,127,-10506.4,1618.82,41.2972,0,0,0),
(45525,128,-10525.8,1593.32,43.8772,0,0,0),
(45525,129,-10543.4,1581.86,45.0814,0,0,0),
(45525,130,-10554.1,1574.88,45.7229,0,0,0),
(45525,131,-10576.7,1557.12,47.438,0,0,0),
(45525,132,-10601.5,1555.4,47.4711,0,0,0),
(45525,133,-10625.3,1545.97,47.1961,0,0,0),
(45525,134,-10642.9,1533.3,47.3155,0,0,0),
(45525,135,-10663.4,1510.29,46.5769,0,0,0),
(45525,136,-10676.3,1504.88,46.0457,0,0,0),
(45525,137,-10706.1,1503.8,47.5113,0,0,0),
(45525,138,-10719.3,1503.75,48.4023,0,0,0),
(45525,139,-10741.6,1501.3,47.8971,0,0,0),
(45525,140,-10779,1495.48,47.7248,0,0,0),
(45525,141,-10814.5,1484.85,45.5877,0,0,0),
(45525,142,-10847.3,1473.48,43.427,0,0,0),
(45525,143,-10875.3,1462.61,41.51,0,0,0),
(45525,144,-10891.5,1454.56,41.0618,0,0,0),
(45525,145,-10904.6,1442.63,41.8719,0,0,0),
(45525,146,-10912.3,1429.66,42.6348,0,0,0),
(45525,147,-10916.2,1420.05,42.7921,0,0,0),
(45525,148,-10942.5,1424.95,43.1856,0,0,0),
(45525,149,-10957.7,1422.2,43.1459,0,0,0),
(45525,150,-10979.7,1411.7,42.7758,0,0,0),
(45525,151,-10992.3,1412.79,42.9071,0,0,0),
(45525,152,-11011.4,1426.53,43.0596,0,0,0),
(45525,153,-11021.4,1442.32,43.0378,0,0,0),
(45525,154,-11024.3,1459.81,42.9215,0,0,0);

DELETE FROM `creature_movement_scripts` WHERE `id` IN (4552501, 4552502);
INSERT INTO `creature_movement_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES
(4552501, 0, 0, 1, 0, 0, 0, 0, 0, 0, 4, 37, 0, 0, 0, 0, 0, 0, 0, 0, "Defias Messenger - Say Text"),
(4552502, 0, 0, 1, 0, 0, 0, 0, 0, 0, 4, 36, 0, 0, 0, 0, 0, 0, 0, 0, "Defias Messenger - Say Text");


-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
